<!DOCTYPE html><html class="default" lang="en"><head><style>body { visibility: hidden; }</style><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="IE=edge"><title>@es-joy/jsdoccomment</title><meta name="description" content="Documentation for @es-joy/jsdoccomment"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" href="assets/style.css"><link rel="stylesheet" href="assets/highlight.css"><script defer="" src="assets/main.js"></script><link rel="stylesheet" href="assets/dmt/dmt-components.css"><link rel="stylesheet" href="assets/dmt/dmt-theme.css"><script src="assets/dmt/dmt-components.js" type="module"></script><noscript><style>body { visibility: visible; }</style></noscript></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os"</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field" id="dmt-search-main"></div><div class="field" id="dmt-toolbar"><a href="index.html" class="title">@es-joy/jsdoccomment</a></div></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main" tabindex="-1"><div class="col-content"><div class="tsd-page-title"><h2>@es-joy/jsdoccomment</h2></div><div class="tsd-panel tsd-typography"><a id="md:es-joyjsdoccomment" class="tsd-anchor"></a><h1><a href="#md:es-joyjsdoccomment">@es-joy/jsdoccomment</a></h1><p><a href="https://www.npmjs.com/package/@es-joy/jsdoccomment"><img src="https://img.shields.io/npm/v/@es-joy/jsdoccomment.svg?label=npm" alt="NPM"></a>
<a href="https://github.com/es-joy/jsdoccomment/blob/main/LICENSE-MIT.txt"><img src="https://img.shields.io/badge/license-MIT-yellowgreen.svg?style=flat" alt="License"></a>
<a href="#"><img src="https://github.com/es-joy/jsdoccomment/workflows/CI/CD/badge.svg" alt="Build Status"></a>
<a href="https://es-joy.github.io/jsdoccomment/"><img src="https://img.shields.io/badge/API%20Documentation-476ff0" alt="API Docs"></a></p>
<p>This project aims to preserve and expand upon the
<code>SourceCode#getJSDocComment</code> functionality of the deprecated ESLint method.</p>
<p>It also exports a number of functions currently for working with JSDoc:</p>
<a id="md:api" class="tsd-anchor"></a><h2><a href="#md:api">API</a></h2><a id="md:parsecomment" class="tsd-anchor"></a><h3><a href="#md:parsecomment"><code>parseComment</code></a></h3><p>For parsing <code>comment-parser</code> in a JSDoc-specific manner.
Might wish to have tags with or without tags, etc. derived from a split off
JSON file.</p>
<a id="md:commentparsertoestree" class="tsd-anchor"></a><h3><a href="#md:commentparsertoestree"><code>commentParserToESTree</code></a></h3><p>Converts <a href="https://github.com/syavorsky/comment-parser">comment-parser</a>
AST to ESTree/ESLint/Babel friendly AST. See the "ESLint AST..." section below.</p>
<a id="md:estreetostring" class="tsd-anchor"></a><h3><a href="#md:estreetostring"><code>estreeToString</code></a></h3><p>Stringifies. In addition to the node argument, it accepts an optional second
options object with a single <code>preferRawType</code> key. If you don't need to modify
JSDoc type AST, you might wish to set this to <code>true</code> to get the benefits of
preserving the raw form, but for AST-based stringification of JSDoc types,
keep it <code>false</code> (the default).</p>
<a id="md:jsdocvisitorkeys" class="tsd-anchor"></a><h3><a href="#md:jsdocvisitorkeys"><code>jsdocVisitorKeys</code></a></h3><p>The <a href="https://github.com/eslint/eslint-visitor-keys">VisitorKeys</a>
for <code>JsdocBlock</code>, <code>JsdocDescriptionLine</code>, and <code>JsdocTag</code>. More likely to be
subject to change or dropped in favor of another type parser.</p>
<a id="md:jsdoctypevisitorkeys" class="tsd-anchor"></a><h3><a href="#md:jsdoctypevisitorkeys"><code>jsdocTypeVisitorKeys</code></a></h3><p>Just a re-export of <a href="https://github.com/eslint/eslint-visitor-keys">VisitorKeys</a>
from <a href="https://github.com/simonseyock/jsdoc-type-pratt-parser/"><code>jsdoc-type-pratt-parser</code></a>.</p>
<a id="md:getdefaulttagstructureformode" class="tsd-anchor"></a><h3><a href="#md:getdefaulttagstructureformode"><code>getDefaultTagStructureForMode</code></a></h3><p>Provides info on JSDoc tags:</p>
<ul>
<li><code>nameContents</code> ('namepath-referencing'|'namepath-defining'|
  'dual-namepath-referencing'|false) - Whether and how a name is allowed
  following any type. Tags without a proper name (value <code>false</code>) may still
  have a description (which can appear like a name); <code>descriptionAllowed</code>
  in such cases would be <code>true</code>.
  The presence of a truthy <code>nameContents</code> value is therefore only intended
  to signify whether separate parsing should occur for a name vs. a
  description, and what its nature should be.</li>
<li><code>nameRequired</code> (boolean) - Whether a name must be present following any type.</li>
<li><code>descriptionAllowed</code> (boolean) - Whether a description (following any name)
  is allowed.</li>
<li><code>typeAllowed</code> (boolean) - Whether the tag accepts a curly bracketed portion.
  Even without a type, a tag may still have a name and/or description.</li>
<li><code>typeRequired</code> (boolean) - Whether a curly bracketed type must be present.</li>
<li><code>typeOrNameRequired</code> (boolean) - Whether either a curly bracketed type is
  required or a name, but not necessarily both.</li>
</ul>
<a id="md:miscellaneous" class="tsd-anchor"></a><h3><a href="#md:miscellaneous">Miscellaneous</a></h3><p>Also currently exports these utilities:</p>
<ul>
<li><code>getTokenizers</code> - Used with <code>parseComment</code> (its main core).</li>
<li><code>hasSeeWithLink</code> - A utility to detect if a tag is <code>@see</code> and has a <code>@link</code>.</li>
<li><code>commentHandler</code> - Used by <code>eslint-plugin-jsdoc</code>.</li>
<li><code>commentParserToESTree</code>- Converts <a href="https://github.com/syavorsky/comment-parser">comment-parser</a>
  AST to ESTree/ESLint/Babel friendly AST.</li>
<li><code>jsdocVisitorKeys</code> - The <a href="https://github.com/eslint/eslint-visitor-keys">VisitorKeys</a>
  for <code>JSDocBlock</code>, <code>JSDocDescriptionLine</code>, and <code>JSDocTag</code>.</li>
<li><code>jsdocTypeVisitorKeys</code> - <a href="https://github.com/eslint/eslint-visitor-keys">VisitorKeys</a>
  for <code>jsdoc-type-pratt-parser</code>.</li>
<li><code>defaultNoTypes</code> = The tags which allow no types by default:
  <code>default</code>, <code>defaultvalue</code>, <code>description</code>, <code>example</code>, <code>file</code>,
  <code>fileoverview</code>, <code>license</code>, <code>overview</code>, <code>see</code>, <code>summary</code></li>
<li><code>defaultNoNames</code> - The tags which allow no names by default:
  <code>access</code>, <code>author</code>, <code>default</code>, <code>defaultvalue</code>, <code>description</code>, <code>example</code>,
  <code>exception</code>, <code>file</code>, <code>fileoverview</code>, <code>kind</code>, <code>license</code>, <code>overview</code>,
  <code>return</code>, <code>returns</code>, <code>since</code>, <code>summary</code>, <code>throws</code>, <code>version</code>, <code>variation</code></li>
</ul>
<a id="md:eslint-ast-produced-for-comment-parser-nodes-jsdocblock-jsdoctag-and-jsdocdescriptionline" class="tsd-anchor"></a><h2><a href="#md:eslint-ast-produced-for-comment-parser-nodes-jsdocblock-jsdoctag-and-jsdocdescriptionline">ESLint AST produced for <code>comment-parser</code> nodes (<code>JsdocBlock</code>, <code>JsdocTag</code>, and <code>JsdocDescriptionLine</code>)</a></h2><p>Note: Although not added in this package, <code>@es-joy/jsdoc-eslint-parser</code> adds
a <code>jsdoc</code> property to other ES nodes (using this project's <code>getJSDocComment</code>
to determine the specific comment-block that will be attached as AST).</p>
<a id="md:jsdocblock" class="tsd-anchor"></a><h3><a href="#md:jsdocblock"><code>JsdocBlock</code></a></h3><p>Has the following visitable properties:</p>
<ol>
<li><code>descriptionLines</code> (an array of <code>JsdocDescriptionLine</code> for multiline
 descriptions).</li>
<li><code>tags</code> (an array of <code>JsdocTag</code>; see below)</li>
<li><code>inlineTags</code> (an array of <code>JsdocInlineTag</code>; see below)</li>
</ol>
<p>Has the following custom non-visitable property:</p>
<ol>
<li><code>delimiterLineBreak</code> - A string containing any line break after <code>delimiter</code>.</li>
<li><code>lastDescriptionLine</code> - A number</li>
<li><code>endLine</code> - A number representing the line number with <code>end</code>/<code>terminal</code></li>
<li><code>descriptionStartLine</code> - A 0+ number indicating the line where any
 description begins</li>
<li><code>descriptionEndLine</code> - A 0+ number indicating the line where the description
 ends</li>
<li><code>hasPreterminalDescription</code> - Set to 0 or 1. On if has a block description
 on the same line as the terminal <code>*/</code>.</li>
<li><code>hasPreterminalTagDescription</code> - Set to 0 or 1. On if has a tag description
 on the same line as the terminal <code>*/</code>.</li>
<li><code>preterminalLineBreak</code> - A string containing any line break before <code>terminal</code>.</li>
</ol>
<p>May also have the following non-visitable properties from <code>comment-parser</code>:</p>
<ol>
<li><code>description</code> - Same as <code>descriptionLines</code> but as a string with newlines.</li>
<li><code>delimiter</code></li>
<li><code>postDelimiter</code></li>
<li><code>lineEnd</code></li>
<li><code>initial</code> (from <code>start</code>)</li>
<li><code>terminal</code> (from <code>end</code>)</li>
</ol>
<a id="md:jsdoctag" class="tsd-anchor"></a><h3><a href="#md:jsdoctag"><code>JsdocTag</code></a></h3><p>Has the following visitable properties:</p>
<ol>
<li><code>parsedType</code> (the <code>jsdoc-type-pratt-parser</code> AST representation of the tag's
 type (see the <code>jsdoc-type-pratt-parser</code> section below)).</li>
<li><code>typeLines</code> (an array of <code>JsdocTypeLine</code> for multiline type strings)</li>
<li><code>descriptionLines</code> (an array of <code>JsdocDescriptionLine</code> for multiline
 descriptions)</li>
<li><code>inlineTags</code> (an array of <code>JsdocInlineTag</code>)</li>
</ol>
<p>May also have the following non-visitable properties from <code>comment-parser</code>
(note that all are included from <code>comment-parser</code> except <code>end</code> as that is only
for JSDoc blocks and note that <code>type</code> is renamed to <code>rawType</code> and <code>start</code> to
<code>initial</code>):</p>
<ol>
<li><code>description</code> - Same as <code>descriptionLines</code> but as a string with newlines.</li>
<li><code>rawType</code> - <code>comment-parser</code> has this named as <code>type</code>, but because of a
 conflict with ESTree using <code>type</code> for Node type, we renamed it to
 <code>rawType</code>. It is otherwise the same as in <code>comment-parser</code>, i.e., a string
 with newlines, though with the initial <code>{</code> and final <code>}</code> stripped out.
 See <code>typeLines</code> for the array version of this property.</li>
<li><code>initial</code> - Renamed from <code>start</code> to avoid potential conflicts with
 Acorn-style parser processing tools</li>
<li><code>delimiter</code></li>
<li><code>postDelimiter</code></li>
<li><code>tag</code> (this does differ from <code>comment-parser</code> now in terms of our stripping
 the initial <code>@</code>)</li>
<li><code>postTag</code></li>
<li><code>name</code></li>
<li><code>postName</code></li>
<li><code>postType</code></li>
</ol>
<a id="md:jsdocdescriptionline" class="tsd-anchor"></a><h3><a href="#md:jsdocdescriptionline"><code>JsdocDescriptionLine</code></a></h3><p>No visitable properties.</p>
<p>May also have the following non-visitable properties from <code>comment-parser</code>:</p>
<ol>
<li><code>delimiter</code></li>
<li><code>postDelimiter</code></li>
<li><code>initial</code> (from <code>start</code>)</li>
<li><code>description</code></li>
</ol>
<a id="md:jsdoctypeline" class="tsd-anchor"></a><h3><a href="#md:jsdoctypeline"><code>JsdocTypeLine</code></a></h3><p>No visitable properties.</p>
<p>May also have the following non-visitable properties from <code>comment-parser</code>:</p>
<ol>
<li><code>delimiter</code></li>
<li><code>postDelimiter</code></li>
<li><code>initial</code> (from <code>start</code>)</li>
<li><code>rawType</code> - Renamed from <code>comment-parser</code> to avoid a conflict. See
 explanation under <code>JsdocTag</code></li>
</ol>
<a id="md:jsdocinlinetag" class="tsd-anchor"></a><h3><a href="#md:jsdocinlinetag"><code>JsdocInlineTag</code></a></h3><p>No visitable properties.</p>
<p>Has the following non-visitable properties:</p>
<ol>
<li><code>format</code>: 'pipe' | 'plain' | 'prefix' | 'space'. These follow the styles of <a href="https://jsdoc.app/tags-inline-link.html">link</a> or <a href="https://jsdoc.app/tags-inline-tutorial.html">tutorial</a>.<ol>
<li><code>pipe</code>: <code>{@link namepathOrURL|link text}</code></li>
<li><code>plain</code>: <code>{@link namepathOrURL}</code></li>
<li><code>prefix</code>: <code>[link text]{@link namepathOrURL}</code></li>
<li><code>space</code>: <code>{@link namepathOrURL link text (after the first space)}</code></li>
</ol>
</li>
<li><code>namepathOrURL</code>: string</li>
<li><code>tag</code>: string. The standard allows <code>tutorial</code> or <code>link</code></li>
<li><code>text</code>: string</li>
</ol>
<a id="md:eslint-ast-produced-for-jsdoc-type-pratt-parser" class="tsd-anchor"></a><h2><a href="#md:eslint-ast-produced-for-jsdoc-type-pratt-parser">ESLint AST produced for <code>jsdoc-type-pratt-parser</code></a></h2><p>The AST, including <code>type</code>, remains as is from <a href="https://github.com/simonseyock/jsdoc-type-pratt-parser/">jsdoc-type-pratt-parser</a>.</p>
<p>The type will always begin with a <code>JsdocType</code> prefix added, along with a
camel-cased type name, e.g., <code>JsdocTypeUnion</code>.</p>
<p>The <code>jsdoc-type-pratt-parser</code> visitor keys are also preserved without change.</p>
<a id="md:installation" class="tsd-anchor"></a><h2><a href="#md:installation">Installation</a></h2><pre><code class="language-shell"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">i</span><span class="hl-1"> </span><span class="hl-2">@es-joy/jsdoccomment</span>
</code><button>Copy</button></pre>
<a id="md:changelog" class="tsd-anchor"></a><h2><a href="#md:changelog">Changelog</a></h2><p>The changelog can be found on the <a href="https://github.com/es-joy/jsdoccomment/blob/main/CHANGES.md">CHANGES.md</a>.</p>
<!--## Contributing

Everyone is welcome to contribute. Please take a moment to review the [contributing guidelines](CONTRIBUTING.md).
-->
<a id="md:authors-and-license" class="tsd-anchor"></a><h2><a href="#md:authors-and-license">Authors and license</a></h2><p><a href="http://brett-zamir.me/">Brett Zamir</a> and
<a href="https://github.com/es-joy/jsdoccomment/graphs/contributors">contributors</a>.</p>
<p>MIT License, see the included <a href="https://github.com/es-joy/jsdoccomment/blob/main/LICENSE-MIT.txt">LICENSE-MIT.txt</a> file.</p>
<a id="md:to-dos" class="tsd-anchor"></a><h2><a href="#md:to-dos">To-dos</a></h2><ol>
<li>Get complete code coverage</li>
<li>Given that <code>esquery</code> expects a <code>right</code> property to search for <code>&gt;</code> (the
 child selector), we should perhaps insist, for example, that params are
 the child property for <code>JsdocBlock</code> or such. Where <code>:has()</code> is currently
 needed, one could thus instead just use <code>&gt;</code>.</li>
<li>Might add <code>trailing</code> for <code>JsdocBlock</code> to know whether it is followed by a
 line break or what not; <code>comment-parser</code> does not provide, however</li>
<li>Fix and properly utilize <code>indent</code> argument (challenging for
 <code>eslint-plugin-jsdoc</code> but needed for <code>jsdoc-eslint-parser</code> stringifiers
 to be more faithful); should also then use the proposed <code>trailing</code> as well</li>
</ol>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><h4 class="uppercase">Member Visibility</h4><form><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked=""><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected" checked=""><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li></ul></form></div><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open="" class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details" tabindex="-1"><ul><li><ul><li><a href="#md:es-joyjsdoccomment"><span>@es-<wbr>joy/jsdoccomment</span></a></li><li><ul><li><a href="#md:api"><span>API</span></a></li><li><ul><li><a href="#md:parsecomment"><span>parse<wbr>Comment</span></a></li><li><a href="#md:commentparsertoestree"><span>comment<wbr>Parser<wbr>ToESTree</span></a></li><li><a href="#md:estreetostring"><span>estree<wbr>To<wbr>String</span></a></li><li><a href="#md:jsdocvisitorkeys"><span>jsdoc<wbr>Visitor<wbr>Keys</span></a></li><li><a href="#md:jsdoctypevisitorkeys"><span>jsdoc<wbr>Type<wbr>Visitor<wbr>Keys</span></a></li><li><a href="#md:getdefaulttagstructureformode"><span>get<wbr>Default<wbr>Tag<wbr>Structure<wbr>For<wbr>Mode</span></a></li><li><a href="#md:miscellaneous"><span>Miscellaneous</span></a></li></ul></li><li><a href="#md:eslint-ast-produced-for-comment-parser-nodes-jsdocblock-jsdoctag-and-jsdocdescriptionline"><span>ESLint AST produced for comment-<wbr>parser nodes (<wbr>Jsdoc<wbr>Block, <wbr>Jsdoc<wbr>Tag, and <wbr>Jsdoc<wbr>Description<wbr>Line)</span></a></li><li><ul><li><a href="#md:jsdocblock"><span>Jsdoc<wbr>Block</span></a></li><li><a href="#md:jsdoctag"><span>Jsdoc<wbr>Tag</span></a></li><li><a href="#md:jsdocdescriptionline"><span>Jsdoc<wbr>Description<wbr>Line</span></a></li><li><a href="#md:jsdoctypeline"><span>Jsdoc<wbr>Type<wbr>Line</span></a></li><li><a href="#md:jsdocinlinetag"><span>Jsdoc<wbr>Inline<wbr>Tag</span></a></li></ul></li><li><a href="#md:eslint-ast-produced-for-jsdoc-type-pratt-parser"><span>ESLint AST produced for jsdoc-<wbr>type-<wbr>pratt-<wbr>parser</span></a></li><li><a href="#md:installation"><span>Installation</span></a></li><li><a href="#md:changelog"><span>Changelog</span></a></li><li><a href="#md:authors-and-license"><span>Authors and license</span></a></li><li><a href="#md:to-dos"><span>To-<wbr>dos</span></a></li></ul></li></ul></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>@es-joy/jsdoccomment</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."></ul></nav></div></div></div><div class="overlay"></div></body></html>